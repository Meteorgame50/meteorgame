<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸŒ  METEOR YOMG'IR - 50 NIGHTS ğŸŒ </title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="ui">
    <header id="hud">
      <div class="left">
        <div id="night-display">ğŸŒ™ Tun: <span id="night-val">1</span>/50</div>
        <div id="time-left">â±ï¸ Vaqt: <span id="time-val">30</span>s</div>
        <div id="score">ğŸ’ Olmos: <span id="score-val">0</span></div>
      </div>
      <div class="right">
        <div id="lives-display">â¤ï¸ Jonlar: <span id="lives-val">5</span></div>
        <button id="shop-btn" class="btn">ğŸ›ï¸ SHOP</button>
        <button id="missions-btn" class="btn">ğŸ“‹ MISSIONS</button>
        <button id="rules-btn" class="btn">ğŸ“– QOIDALAR</button>
        <button id="pause-btn" class="btn">Pauza</button>
      </div>
    </header>

    <main id="game-wrap">
      <canvas id="game"></canvas>

      <div id="touch-controls" aria-hidden="true">
        <button id="left-touch" class="touch-btn">â—€</button>
        <button id="right-touch" class="touch-btn">â–¶</button>
      </div>

      <!-- MENU OVERLAY -->
      <div id="overlay-menu" class="overlay">
        <div class="panel">
          <h1>ğŸŒ  METEOR YOMG'IR ğŸŒ </h1>
          <p>Langit yerdan meteor yomg'ir tushaydi!</p>
          <p class="subtitle">ğŸ’« Meteorlardan qoching, olmoslarni to'pla, SHOP-da skin ol!</p>
          <div class="controls">
            <strong>ğŸ® ASOSIY QOIDALAR:</strong>
            <ul>
              <li>ğŸŒ™ <strong>50 TUNDA</strong> yetib kor va YUTIB QO'Y!</li>
              <li>â±ï¸ Har bir tunda <strong>30 soniya</strong> vaqt bor</li>
              <li>ğŸ”´ <strong>Meteorga tegsa</strong> - 1 jon yo'qoladi</li>
              <li>â¤ï¸ <strong>5 jondan keyin</strong> - GAME OVER</li>
              <li>ğŸ’ <strong>Olmoslarni to'plab</strong> SHOP-da SKIN ol!</li>
              <li>ğŸ“‹ <strong>30ta missiya</strong> ni tugatib bonus olish!</li>
              <li>ğŸ¯ Har tundan keyin <strong>100 + Bonus olmos</strong> olasiz</li>
            </ul>
          </div>

          <label class="range-row">Qiyinchilik:
            <input id="difficulty" type="range" min="0.5" max="2" step="0.1" value="1">
          </label>

          <div class="panel-actions">
            <button id="start-btn" class="btn primary">50 TUNNI BOSHLASH ğŸš€</button>
          </div>
        </div>
      </div>

      <!-- RULES OVERLAY -->
      <div id="overlay-rules" class="overlay hidden">
        <div class="panel rules-panel">
          <h2>ğŸ“– O'YIN QOIDALARI ğŸ“–</h2>
          <div class="rules-content">
            <div class="rule-section">
              <h3>ğŸ® ASOSIY QOIDALAR</h3>
              <ul>
                <li>ğŸŒ™ <strong>50 TUN</strong> tugatishingiz kerak</li>
                <li>â±ï¸ Har tunning <strong>30 soniya</strong> davomiyligi</li>
                <li>â¤ï¸ <strong>5 JONINGIZ</strong> bor - ularni saqlang!</li>
                <li>ğŸ”´ Meteor tegsa - 1 jon yo'qoladi</li>
                <li>ğŸ’€ Barcha jonlar yo'qol bo'lsa - GAME OVER</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>ğŸ’ OLMOS SISTEMA</h3>
              <ul>
                <li>âœ… <strong>Tun tugatsa</strong> +100 olmos</li>
                <li>ğŸ”´ <strong>Meteor yo'q qilsa</strong> +10 olmos</li>
                <li>ğŸ <strong>Bonus</strong> - meteorni yo'q qilgan sonicha</li>
                <li>ğŸ† <strong>Missiya tugatsa</strong> - yanada ko'p bonus!</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>ğŸ›ï¸ SHOP SISTEMA</h3>
              <ul>
                <li>ğŸ‘• <strong>15 xil SKIN</strong> mavjud</li>
                <li>ğŸ’° Eng arzon skin - <strong>35,000 olmos</strong></li>
                <li>â­ Qimmatli skin - <strong>65,000 olmos</strong> gacha</li>
                <li>ğŸ¨ Har skin <strong>o'z rangi</strong> va effekti</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>ğŸ“‹ MISSIYA SISTEMA</h3>
              <ul>
                <li>ğŸ¯ <strong>30 ta MISSIYA</strong> tugatish uchun</li>
                <li>ğŸ“Š Har missiya <strong>3 bosqich</strong> ga bo'lingan</li>
                <li>ğŸ… Har bosqich uchun <strong>bonus olmos</strong></li>
                <li>ğŸŒŸ Har missiya <strong>boshqa target</strong> bor</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>âš¡ HARAKAT TIZIMI</h3>
              <ul>
                <li>â¬…ï¸ <strong>A / Left Arrow</strong> - Chapga</li>
                <li>â¡ï¸ <strong>D / Right Arrow</strong> - O'ngga</li>
                <li>P - Pauza / Davom</li>
                <li>ğŸ“± Mobilda - sura tugmalari</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>ğŸ¨ ANIMATSIYA</h3>
              <ul>
                <li>ğŸ’ O'yinchi <strong>diamond shakli</strong> (â—‡)</li>
                <li>ğŸ”´ Meteorlar <strong>dumaloq</strong> va shuvla bilan</li>
                <li>âœ¨ Chapga/o'ngga bosishda <strong>aylanib harakat</strong></li>
                <li>ğŸ’¥ Portlash effekti bilan zarrachalar tarqaladi</li>
              </ul>
            </div>

            <div class="rule-section">
              <h3>ğŸ† YUTISH SHARTI</h3>
              <ul>
                <li>âœ… <strong>50 tunni</strong> tugatish kerak</li>
                <li>ğŸ‰ Victory screen ko'rinadi</li>
                <li>ğŸ’ <strong>BARCHASINI OLMOS</strong> sifatida ol!</li>
                <li>ğŸŒŸ Qayta o'yna yoki SHOP-da skin ol!</li>
              </ul>
            </div>
          </div>
          <div class="panel-actions">
            <button id="close-rules-btn" class="btn">Yopish</button>
          </div>
        </div>
      </div>

      <!-- SHOP OVERLAY -->
      <div id="overlay-shop" class="overlay hidden">
        <div class="panel shop-panel">
          <h2>ğŸ›ï¸ SKIN SHOP ğŸ›ï¸</h2>
          <p>Sizning Olmos: <span id="shop-diamonds">0</span> ğŸ’</p>
          <p>Tanlagan Skin: <span id="current-skin">Default</span></p>
          <div id="skins-grid" class="skins-grid">
            <!-- Skinlar shu yerda ko'rinadi -->
          </div>
          <div class="panel-actions">
            <button id="close-shop-btn" class="btn">Yopish</button>
          </div>
        </div>
      </div>

      <!-- MISSIONS OVERLAY -->
      <div id="overlay-missions" class="overlay hidden">
        <div class="panel missions-panel">
          <h2>ğŸ“‹ MISSIONS (30/30) ğŸ“‹</h2>
          <div id="missions-list" class="missions-list">
            <!-- Missiyalar shu yerda ko'rinadi -->
          </div>
          <div class="panel-actions">
            <button id="close-missions-btn" class="btn">Yopish</button>
          </div>
        </div>
      </div>

      <!-- PAUSE OVERLAY -->
      <div id="overlay-pause" class="overlay hidden">
        <div class="panel">
          <h2>â¸ï¸ PAUZA â¸ï¸</h2>
          <p>Tun <span id="pause-night">1</span>/50</p>
          <p>Qolgan Jonlar: <span id="pause-lives">5</span>â¤ï¸</p>
          <div class="panel-actions">
            <button id="resume-btn" class="btn primary">Davom Et</button>
            <button id="menu-btn" class="btn">Menyu</button>
          </div>
        </div>
      </div>

      <!-- NIGHT COMPLETE OVERLAY -->
      <div id="overlay-night-complete" class="overlay hidden">
        <div class="panel night-complete">
          <h2>ğŸŒ™ TUN <span id="completed-night">1</span>/50 TUGATILDI! ğŸŒ™</h2>
          <p class="big-text">+100 ğŸ’</p>
          <p>Yo'qolgan meteorlar: <span id="meteors-destroyed">0</span> ğŸ”´</p>
          <p>Bonus Ball: <span id="bonus-score">0</span> âœ¨</p>
          <p>Qolgan Jonlar: <span id="remaining-lives">5</span>â¤ï¸</p>
          <div class="panel-actions">
            <button id="next-night-btn" class="btn primary">Keyingi Tun</button>
          </div>
        </div>
      </div>

      <!-- GAMEOVER OVERLAY -->
      <div id="overlay-gameover" class="overlay hidden">
        <div class="panel game-over">
          <h2>ğŸ’€ OYINGA TUGADI! ğŸ’€</h2>
          <p>Tun <span id="final-night">1</span>/50 da yutqazibdiz</p>
          <p class="big-text">Umumiy Ball: <span id="final-score">0</span> ğŸ’</p>
          <div class="panel-actions">
            <button id="again-btn" class="btn primary">Qayta Boshlash</button>
            <button id="menu2-btn" class="btn">Menyu</button>
          </div>
        </div>
      </div>

      <!-- VICTORY OVERLAY -->
      <div id="overlay-victory" class="overlay hidden">
        <div class="panel victory">
          <h2>ğŸ† DUNYONI QUTQARDINGIZ! ğŸ†</h2>
          <p class="big-text">50 METEOR YOMG'IRI TA'M OLDI!</p>
          <p>Siz barcha 50 tunni tugatdingiz!</p>
          <p>Langit endi xavfsiz ğŸ˜Š</p>
          <p class="victory-score">Yakuniy Ball: <span id="victory-score">0</span> ğŸ’</p>
          <div class="panel-actions">
            <button id="victory-again-btn" class="btn primary">Qayta O'yna</button>
            <button id="victory-menu-btn" class="btn">Menyu</button>
          </div>
        </div>
      </div>
    </main>

    <footer id="foot">ğŸŒ  50 TUNDA DUNYONI QUTQAR! ğŸŒ </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>